<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MySQL - 分类 - QiMington's</title><link>/categories/mysql/</link><description>MySQL - 分类 - QiMington's</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 21 Oct 2022 22:22:40 +0800</lastBuildDate><atom:link href="/categories/mysql/" rel="self" type="application/rss+xml"/><item><title>误删root用户解决办法</title><link>/posts/mysql/%E8%AF%AF%E5%88%A0root%E7%94%A8%E6%88%B7%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</link><pubDate>Fri, 21 Oct 2022 22:22:40 +0800</pubDate><author>QiMington</author><guid>/posts/mysql/%E8%AF%AF%E5%88%A0root%E7%94%A8%E6%88%B7%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</guid><description>方法1 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # 1.关掉mysql服务 net stop mysql # 此处为win环境 linux为service stop mysql; # 2.用cmd用管理员的方式进入到mysql的安装路径下的bin，执行： mysqld --console --skip-grant-tables --shared-memory # 保留该窗口 # 3.重开cmd，无密码进入mysql： mysql -u root # 4.修改数据库并给root用户添加权限 use mysql; update user set select_priv=‘Y’,Insert_priv=‘Y’,Update_priv=‘Y’,Delete_priv=‘Y’,Create_priv=‘Y’,Drop_priv=‘Y’,Reload_priv=‘Y’,File_priv=‘Y’,Grant_priv=‘Y’,References_priv=‘Y’,Index_priv=‘Y’,Alter_priv=‘Y’,Show_db_priv=‘Y’,Super_priv=‘Y’,Create_tmp_table_priv=‘Y’,Lock_tables_priv=‘Y’,Execute_priv=‘Y’,Repl_slave_priv=‘Y’,Repl_client_priv=‘Y’,Create_view_priv=‘Y’,Show_view_priv=‘Y’,Create_routine_priv=‘Y’,Alter_routine_priv=‘Y’,Create_user_priv=‘Y’,Event_priv=‘Y’,Trigger_priv=‘Y’,Create_tablespace_priv=‘Y’ WHERE user=‘root’; # 5.刷新并退出： flush privileges; exit; # 6.重启数据库 net restart mysql; # Linux为service mysql restart; # 7.</description></item><item><title>MySQL使用技巧</title><link>/posts/mysql/mysql%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</link><pubDate>Tue, 06 Sep 2022 10:24:40 +0800</pubDate><author>QiMington</author><guid>/posts/mysql/mysql%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</guid><description><![CDATA[生成只读权限用户 1 2 3 4 5 6 7 8 9  # 创建用户 # create user [用户名]@[ip] identified by [密码]; create user &#39;readonly&#39;@&#39;%&#39; identified by &#39;readonlyqi4728&#39;; # 给用户赋予权限 # grant [权限] on [库.表] to [用户名]@[ip]; grant select on myblog.* to &#39;readonly&#39;@&#39;%&#39;; # grant all on sasd.* to &#39;lzs&#39;@&#39;%&#39;; # 刷新权限 flush privileges;   自动忽略重复插入 数据不存在则插入，数据已存在则忽略，可以使用MySQL ignore来实现。当primary key或者unique key重复时会自动忽略本次插入操作。
1  insert ignore into &#39;table&#39;(&#39;label&#39;) values(&#39;value&#39;);   自动判断更新或插入（多线程容易产生死锁，可以捕获异常，但不推荐，insert就insert，update就update） 数据不存在则插入，数据已存在则更新，可以使用MySQL on duplicate key update来实现。当primary key或者unique key重复时会自动执行update。]]></description></item></channel></rss>